# UF-201, UF-202, UF-204 テスト実装プラン

## 概要
このドキュメントは、uBlock形式のインポート・エクスポートUI機能（UF-201, UF-202, UF-204）のテスト実装のためのプランを定義します。

## 1. ublockImport.test.jsのテスト実装

### UF-201: インポートUI追加
- フォーマット切替機能のテスト
  - simple/ublockのUI切替が正しく動作すること
- テキスト入力プレビューのテスト
  - 入力時に即時プレビュー更新が動作すること
- 有効ルールプレビューのテスト
  - ルール数が正確に表示されること
- 例外ルールプレビューのテスト
  - 例外数が正確に表示されること
- エラー表示のテスト
  - 構文エラーが表示されること
- 空入力のテスト
  - プレビューは表示されないこと
- 保存処理のテスト
  - chrome.storageに正しく保存されること
- 読み込み処理のテスト
  - 保存された設定が表示されること

### UF-202: ファイルアップロード機能
- ファイル選択のテスト
  - .txtファイルが読み込まれること
- ドラッグ開始のテスト
  - ドロップゾーンが表示されること
- ドラッグキャンセルのテスト
  - ドロップゾーンが非表示になること
- ファイルドロップのテスト
  - ファイルが読み込まれること
- 非テキストファイルのテスト
  - アップロードが拒否されること
- 大容量ファイルのテスト
  - 読み込みが成功すること
- 保存済みファイルの読み込みのテスト
  - プレビューが正確に表示されること

### UF-203: URLインポート機能
- URLからフィルターリストを取得のテスト
  - 正しいURLからフィルターを取得できること
- 無効なURLのテスト
  - 無効なURLの場合にエラーが発生すること
- ネットワークエラーのテスト
  - ネットワークエラーの場合に適切なエラーメッセージが表示されること
- HTTPエラーのテスト
  - HTTPエラーの場合に適切なエラーメッセージが表示されること
- UI要素の追加のテスト
  - URL入力欄とインポートボタンが表示されること
- イベントハンドラの実装のテスト
  - URLインポートボタンクリック時にhandleUrlImportが呼ばれること

## 2. ublockExport.test.jsのテスト実装

### UF-204: エクスポート機能
- UIイベントのテスト
  - エクスポートボタンクリック時の処理
  - コピーボタンクリック時の処理

## 3. テスト実行と検証
- すべてのテストケースが正常に動作することを確認
- カバレッジレポートの生成と分析
- 必要に応じてテストケースの修正と追加