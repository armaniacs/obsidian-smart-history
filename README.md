# ã‚¹ãƒãƒ¼ãƒˆãªå±¥æ­´ç®¡ç† / Obsidian Smart History

[æ—¥æœ¬èª](#æ—¥æœ¬èª) | [English](#english)

---

## æ—¥æœ¬èª

### æ¦‚è¦
ãƒ–ãƒ©ã‚¦ã‚¶ã®é–²è¦§å±¥æ­´ã‚’ã€AIã«ã‚ˆã‚‹è¦ç´„ä»˜ãã§Obsidianã®ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ¼ãƒˆã«è‡ªå‹•ä¿å­˜ã™ã‚‹Chromeæ‹¡å¼µæ©Ÿèƒ½ã§ã™ã€‚

### ã‚ªãƒªã‚¸ãƒŠãƒ«ã®ç´¹ä»‹
ã‚ªãƒªã‚¸ãƒŠãƒ«ã¯ https://note.com/izuru_tcnkc/n/nd0a758483901 ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹è¨˜äº‹ã§ã™ã€‚

ã‚ªãƒªã‚¸ãƒŠãƒ«ã‹ã‚‰ã®å¤‰æ›´ç‚¹ã¨ã—ã¦ã€OpenAIäº’æ›APIã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã¤ã¾ã‚Šã€Groqã‚„Ollamaãªã©ã‚‚ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

### ç‰¹å¾´
- ğŸ¤– **AIã«ã‚ˆã‚‹è¦ç´„**: Gemini API ã¾ãŸã¯ Open AI Compatible APIã‚’ä½¿ç”¨ã—ã¦ã€ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ã®å†…å®¹ã‚’ç°¡æ½”ã«è¦ç´„ã—ã¾ã™ã€‚
- ğŸ“ **Obsidiané€£æº**: é–²è¦§å±¥æ­´ã‚’ç›´æ¥Obsidianã®ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ¼ãƒˆã«ä¿å­˜ã—ã¾ã™ã€‚
- ğŸ¯ **ã‚¹ãƒãƒ¼ãƒˆæ¤œå‡º**: å®Ÿéš›ã«èª­ã‚“ã ãƒšãƒ¼ã‚¸ã®ã¿ã‚’ä¿å­˜ã—ã¾ã™ï¼ˆæ»åœ¨æ™‚é–“ã¨ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ·±åº¦ã«åŸºã¥ãã¾ã™ï¼‰ã€‚
- ğŸ“‚ **æ•´ç†ã•ã‚ŒãŸä¿å­˜**: ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ¼ãƒˆå†…ã«å°‚ç”¨ã®ã€Œãƒ–ãƒ©ã‚¦ã‚¶é–²è¦§å±¥æ­´ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è‡ªå‹•ä½œæˆã—ã€ç®¡ç†ã—ã¾ã™ã€‚
- âš™ï¸ **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½**: æœ€å°æ»åœ¨æ™‚é–“ã€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ·±åº¦ã€APIè¨­å®šãªã©ã‚’è‡ªç”±ã«æ§‹æˆã§ãã¾ã™ã€‚
- ğŸ–±ï¸ **æ‰‹å‹•è¨˜éŒ²æ©Ÿèƒ½**: ã€Œä»Šã™ãè¨˜éŒ²ã€ãƒœã‚¿ãƒ³ã§ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã‚’å³åº§ã«è¨˜éŒ²ã§ãã¾ã™ã€‚é‡è¤‡ãƒã‚§ãƒƒã‚¯ãªã—ã§åŒã˜ãƒšãƒ¼ã‚¸ã‚’è¤‡æ•°å›è¨˜éŒ²å¯èƒ½ã§ã™ã€‚
- ğŸ“± **æ”¹è‰¯ã•ã‚ŒãŸUI**: ãƒ¡ã‚¤ãƒ³ç”»é¢ã¨è¨­å®šç”»é¢ã‚’åˆ†é›¢ã—ã€ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ç°¡å˜ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚
- ğŸŒ **ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼**: ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆ/ãƒ–ãƒ©ãƒƒã‚¯ãƒªã‚¹ãƒˆã§è¨˜éŒ²ã™ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’åˆ¶å¾¡ã§ãã¾ã™ã€‚ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¯¾å¿œã€‚
- ğŸš« **uBlock Originå½¢å¼ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼**: EasyListãªã©ã®æ—¢å­˜ã®uBlockãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒªã‚¹ãƒˆã‚’ç›´æ¥ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ä½¿ç”¨ã§ãã¾ã™ã€‚
- âœï¸ **AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**: AIã¸ã®è¦ç´„æŒ‡ç¤ºãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è‡ªç”±ã«ç·¨é›†ãƒ»ä¿å­˜ã§ãã¾ã™ã€‚ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã”ã¨ã«ç•°ãªã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è¨­å®šå¯èƒ½ã€‚
- ğŸ”’ **ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·**: 4ã¤ã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã‚’é¸æŠã—ã€å€‹äººæƒ…å ±ã‚’ãƒã‚¹ã‚¯ã—ã¦ã‹ã‚‰AIã«é€ä¿¡å¯èƒ½ã€‚ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ï¼ˆéŠ€è¡Œãƒ»ãƒ¡ãƒ¼ãƒ«ç­‰ï¼‰ã‚’è‡ªå‹•æ¤œå‡ºã—ã€èª¤ã£ãŸè¨˜éŒ²ã‚’é˜²æ­¢ã€‚è©³ç´°ã¯ [PRIVACY.md](PRIVACY.md) ã‚’å‚ç…§ã€‚

### å¿…è¦ãªã‚‚ã®
- [Obsidian](https://obsidian.md/) ã¨ [Local REST API ãƒ—ãƒ©ã‚°ã‚¤ãƒ³](https://github.com/coddingtonbear/obsidian-local-rest-api)
- å¥½ããªAIãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ï¼ˆãŠå¥½ãã®ã‚‚ã®ã‚’ã©ã†ãï¼‰
   - [Google Gemini API ã‚­ãƒ¼](https://aistudio.google.com/app/apikey)ï¼ˆç„¡æ–™æ ã‚ã‚Šï¼‰
   - [Groq](https://console.groq.com/keys)ï¼ˆç„¡æ–™æ ã‚ã‚Šï¼‰
   - [OpenAI](https://platform.openai.com/api-keys)ï¼ˆç„¡æ–™æ ã‚ã‚Šï¼‰
   - ollamaã‚‚å¤šåˆ†å‹•ãã¾ã™ã€‚


### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•
ãƒ“ãƒ«ãƒ‰æ¸ˆã¿ã®æ‹¡å¼µæ©Ÿèƒ½ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã«ã¯ã€ä»¥ä¸‹ã®æ‰‹é †ã«å¾“ã£ã¦ãã ã•ã„ã€‚

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã¾ãŸã¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™:
   ```bash
   git clone https://github.com/izuru-tcnkc/obsidian-smart-history.git
   cd obsidian-smart-history
   ```

2. ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
   ```bash
   npm install
   ```

3. æ‹¡å¼µæ©Ÿèƒ½ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¾ã™:
   ```bash
   npm run build
   ```

4. Chromeã‚’é–‹ãã€`chrome://extensions` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚

5. å³ä¸Šã®ã€Œãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã€ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚

6. ã€Œãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã•ã‚Œã¦ã„ãªã„æ‹¡å¼µæ©Ÿèƒ½ã‚’èª­ã¿è¾¼ã‚€ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€**`dist` ãƒ•ã‚©ãƒ«ãƒ€**ã‚’é¸æŠã—ã¾ã™ã€‚

### ä½¿ã„æ–¹

#### è‡ªå‹•è¨˜éŒ²
- ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ã‚’5ç§’ä»¥ä¸Šé–²è¦§ã—ã€50%ä»¥ä¸Šã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã™ã‚‹ã¨è‡ªå‹•çš„ã«è¨˜éŒ²ã•ã‚Œã¾ã™
- é‡è¤‡URLã¯è¨˜éŒ²ã•ã‚Œã¾ã›ã‚“ï¼ˆåŒã˜ãƒšãƒ¼ã‚¸ã¯1æ—¥1å›ã®ã¿ï¼‰

#### æ‰‹å‹•è¨˜éŒ²
1. ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®æ‹¡å¼µæ©Ÿèƒ½ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ¡ã‚¤ãƒ³ç”»é¢ã‚’é–‹ãã¾ã™
2. ç¾åœ¨ã®ãƒšãƒ¼ã‚¸æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
3. ã€ŒğŸ“ ä»Šã™ãè¨˜éŒ²ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€å³åº§ã«ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ãŒè¨˜éŒ²ã•ã‚Œã¾ã™
4. æ‰‹å‹•è¨˜éŒ²ã§ã¯é‡è¤‡ãƒã‚§ãƒƒã‚¯ãŒãªã„ãŸã‚ã€åŒã˜ãƒšãƒ¼ã‚¸ã‚’ä½•åº¦ã§ã‚‚è¨˜éŒ²ã§ãã¾ã™

### è¨­å®š
1. ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®æ‹¡å¼µæ©Ÿèƒ½ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚
2. ãƒ¡ã‚¤ãƒ³ç”»é¢ã®å³ä¸Šã«ã‚ã‚‹ã€Œâ˜°ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦è¨­å®šç”»é¢ã‚’é–‹ãã¾ã™ã€‚
3. ä»¥ä¸‹ã®è¨­å®šã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼š
   - **Obsidian API Key**: Obsidianã®Local REST APIè¨­å®šã§å–å¾—ã—ãŸã‚­ãƒ¼
   - **Protocol/Port**: Obsidian Local REST APIã®ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã¨ãƒãƒ¼ãƒˆï¼ˆé€šå¸¸ã¯https/27123ï¼‰
   - **Daily Notes Path**: ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ¼ãƒˆã®ä¿å­˜å…ˆãƒ•ã‚©ãƒ«ãƒ€ï¼ˆä¾‹: `092.Daily`ï¼‰
   - **AI Provider**: ä½¿ç”¨ã™ã‚‹AIã‚µãƒ¼ãƒ“ã‚¹ã‚’é¸æŠï¼ˆGeminiã€OpenAIäº’æ›ãªã©ï¼‰
   - **å„AIãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®APIã‚­ãƒ¼ã¨ãƒ¢ãƒ‡ãƒ«è¨­å®š**
4. ã€ŒSave & Test Connectionã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€ã€ŒTest Connectionã€ã§æ¥ç¶šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

#### ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼è¨­å®š
è¨­å®šç”»é¢ã®ã€Œãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã€ã‚¿ãƒ–ã§ã€è¨˜éŒ²ã™ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’åˆ¶å¾¡ã§ãã¾ã™ï¼š

- **ç„¡åŠ¹**: ã™ã¹ã¦ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¨˜éŒ²ã—ã¾ã™
- **ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆ**: æŒ‡å®šã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã¿è¨˜éŒ²ã—ã¾ã™
- **ãƒ–ãƒ©ãƒƒã‚¯ãƒªã‚¹ãƒˆ**: æŒ‡å®šã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’é™¤å¤–ã—ã¦è¨˜éŒ²ã—ã¾ã™

ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒªã‚¹ãƒˆã§ã¯ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ã‚‚ä½¿ç”¨ã§ãã¾ã™ï¼ˆä¾‹: `*.example.com`ï¼‰ã€‚ã€Œç¾åœ¨ã®ãƒšãƒ¼ã‚¸ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¿½åŠ ã€ãƒœã‚¿ãƒ³ã§ç°¡å˜ã«ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¿½åŠ ã§ãã¾ã™ã€‚

#### AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

è¨­å®šç”»é¢ã®ã€ŒAIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€ã‚¿ãƒ–ã§ã€AIè¦ç´„æ™‚ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ã€‚ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã”ã¨ã«ç•°ãªã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è¨­å®šã—ãŸã‚Šã€è¤‡æ•°ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä¿å­˜ã—ã¦åˆ‡ã‚Šæ›¿ãˆãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€å„è¨­å®šé …ç›®ã®èª¬æ˜ã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºä¾‹ã¯ [USER-GUIDE-AI-PROMPT.md](USER-GUIDE-AI-PROMPT.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

#### uBlock Originå½¢å¼ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã®ä½¿ç”¨
è¨­å®šç”»é¢ã®ã€Œãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã€ã‚¿ãƒ–ã§ã€ã€Œãƒ•ã‚£ãƒ«ã‚¿ãƒ¼å½¢å¼ã€ã‚’ã€ŒuBlock Origin å½¢å¼ã€ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ã§ã€uBlock Originå½¢å¼ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒªã‚¹ãƒˆã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚

ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã®å…¥åŠ›æ–¹æ³•:
- ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã«ç›´æ¥uBlockå½¢å¼ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’è²¼ã‚Šä»˜ã‘ã‚‹
- ãƒ­ãƒ¼ã‚«ãƒ«ã®.txtãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰èª­ã¿è¾¼ã‚€
- ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€
- URLã‹ã‚‰ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒªã‚¹ãƒˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹

è©³ç´°ãªä½¿ã„æ–¹ã¯ [USER-GUIDE-UBLOCK-IMPORT.md](USER-GUIDE-UBLOCK-IMPORT.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚


### Obsidianã¸ã®è¿½åŠ ã®ä»•çµ„ã¿ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ï¼ˆsrc/background/obsidianClient.jsï¼‰ã€‚

ä»•çµ„ã¿: Read-Modify-Write (èª­ã¿è¾¼ã¿ -> åŠ å·¥ -> æ›¸ãè¾¼ã¿)

ä¿å­˜å…ˆã®ç‰¹å®š:
è¨­å®šã•ã‚ŒãŸã€ŒDaily Note Pathã€ã¨ç¾åœ¨ã®æ—¥ä»˜ã‹ã‚‰ã€ä¿å­˜ã™ã¹ããƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ï¼ˆä¾‹: 092.Daily/2026-01-15.mdï¼‰ã‚’ç‰¹å®šã—ã¾ã™ã€‚
æ—¢å­˜ãƒãƒ¼ãƒˆã®èª­ã¿è¾¼ã¿ (GET):
Obsidian Local REST APIã‚’ä½¿ç”¨ã—ã¦ã€ãã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ç¾åœ¨ã®å†…å®¹ã‚’ãƒ†ã‚­ã‚¹ãƒˆã¨ã—ã¦å–å¾—ã—ã¾ã™ã€‚
å†…å®¹ã®è¿½è¨˜:
ãƒ•ã‚¡ã‚¤ãƒ«å†…ã« # ğŸŒ ãƒ–ãƒ©ã‚¦ã‚¶é–²è¦§å±¥æ­´ ã¨ã„ã†è¦‹å‡ºã—ãŒã‚ã‚‹ã‹æ¢ã—ã¾ã™ã€‚
ã‚ã‚‹å ´åˆ: ãã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®æœ«å°¾ï¼ˆæ¬¡ã®è¦‹å‡ºã—ã®æ‰‹å‰ï¼‰ã«æ–°ã—ã„è¦ç´„ã‚’æŒ¿å…¥ã—ã¾ã™ã€‚
ãªã„å ´åˆ: ãƒ•ã‚¡ã‚¤ãƒ«ã®æœ«å°¾ã«æ–°ã—ã„è¦‹å‡ºã—ã‚’ä½œæˆã—ã€ãã“ã«è¿½è¨˜ã—ã¾ã™ã€‚
ãƒãƒ¼ãƒˆã®æ›´æ–° (PUT):
åŠ å·¥ã—ãŸå…¨ä½“ã®å†…å®¹ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸Šæ›¸ãä¿å­˜ã—ã¾ã™ã€‚
è£œè¶³:

ãƒ•ã‚¡ã‚¤ãƒ«å…¨ä½“ã‚’å–å¾—ã—ã¦æ›¸ãç›´ã™æ–¹å¼ã®ãŸã‚ã€Obsidianå´ã§ã¾ã•ã«ãã®ç¬é–“ã«åŒã˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦ã„ã‚‹ã¨ã€ç«¶åˆãªã©ã§æ›´æ–°å†…å®¹ãŒå¤±ã‚ã‚Œã‚‹ãƒªã‚¹ã‚¯ãŒã‚ãšã‹ã«ã‚ã‚Šã¾ã™ï¼ˆé€šå¸¸ã®ä½¿ç”¨ã§ã¯ç¨€ã§ã™ï¼‰ã€‚
ç¾åœ¨ã¯ã€Œã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®æœ«å°¾ã€ã«è¿½åŠ ã•ã‚Œã¾ã™ã€‚


---

## English

### Overview
A Chrome extension that automatically saves your browsing history to Obsidian with AI-generated summaries.

### Features
- ğŸ¤– **AI-Powered Summaries**: Automatically generates concise summaries of web pages using Google's Gemini API or OpenAI-compatible APIs
- ğŸ“ **Obsidian Integration**: Saves browsing history directly to your Obsidian daily notes
- ğŸ¯ **Smart Detection**: Only saves pages you actually read (based on scroll depth and time spent)
- ğŸ“‚ **Organized Storage**: Automatically creates and maintains a dedicated "Browser History" section in your daily notes
- âš™ï¸ **Customizable**: Configure minimum visit duration, scroll depth, and API settings
- ğŸ–±ï¸ **Manual Recording**: Record any page instantly with the "Record Now" button. No duplicate URL restrictions - record the same page multiple times.
- ğŸ“± **Improved UI**: Separated main screen and settings with easy hamburger menu access.
- ğŸŒ **Domain Filtering**: Control which domains to record with whitelist/blacklist support. Wildcard patterns supported.
- ğŸš« **uBlock Origin Format Filters**: Import and use existing uBlock filter lists like EasyList directly.
- âœï¸ **AI Prompt Customization**: Edit and save custom AI summarization prompts. Configure different prompts per provider.
- ğŸ”’ **Privacy Protection**: Select from 4 privacy modes and mask PII before sending to AI. Automatically detects private pages (banking, email, etc.) to prevent accidental recording. See [PRIVACY.md](PRIVACY.md) for details.

### Requirements
- [Obsidian](https://obsidian.md/) with [Local REST API plugin](https://github.com/coddingtonbear/obsidian-local-rest-api)
- [Google Gemini API key](https://aistudio.google.com/app/apikey) (free tier available)

### Installation
To install the extension, follow these steps:

1. Clone or download this repository:
   ```bash
   git clone https://github.com/izuru-tcnkc/obsidian-smart-history.git
   cd obsidian-smart-history
   ```

2. Install dependencies:
   ```bash
   npm install
   ```

3. Build the extension:
   ```bash
   npm run build
   ```

4. Open Chrome and navigate to `chrome://extensions`

5. Enable "Developer mode" in the top right

6. Click "Load unpacked" and select the **`dist` folder**

### Usage

#### Automatic Recording
- Pages are automatically recorded when you browse for 5+ seconds and scroll 50%+ of the page
- Duplicate URLs are not recorded (same page only once per day)

#### Manual Recording
1. Click the extension icon to open the main screen
2. Current page information will be displayed
3. Click the "ğŸ“ Record Now" button to instantly record the current page
4. Manual recording has no duplicate restrictions - record the same page multiple times

### Setup
1. Click the extension icon in your toolbar
2. Click the "â˜°" menu button in the top right to open settings
3. Configure settings:
   - **Obsidian API Key**: Key from Obsidian's Local REST API settings
   - **Protocol/Port**: Obsidian Local REST API protocol and port (usually https/27123)
   - **Daily Notes Path**: Folder path for daily notes (e.g., `092.Daily`)
   - **AI Provider**: Select your preferred AI service (Gemini, OpenAI Compatible, etc.)
   - **API keys and model settings for each AI provider**
4. Click "Save & Test Connection" to verify connectivity.

#### Domain Filter Settings
In the "Domain Filter" tab of the settings screen, you can control which domains to record:

- **Disabled**: Record all domains
- **Whitelist**: Only record specified domains
- **Blacklist**: Record all domains except those specified

You can use wildcards in the domain list (e.g., `*.example.com`). Use the "Add Current Domain" button to easily add domains.

#### Customizing AI Prompts

In the "AI Prompt" tab of the settings screen, you can customize the prompts used for AI summarization. Configure different prompts per provider or save multiple prompts to switch between them as needed.

For default prompt values, field descriptions, and customization examples, see [USER-GUIDE-AI-PROMPT.md](USER-GUIDE-AI-PROMPT.md).

#### Using uBlock Origin Format Filters
In the "Domain Filter" tab of the settings screen, switch the "Filter Format" to "uBlock Origin Format" to use uBlock Origin format filter lists.

Ways to input filters:
- Paste uBlock format filters directly into the text area
- Load from a local .txt file
- Drag and drop a file to load
- Download a filter list from a URL

For detailed usage instructions, please refer to [USER-GUIDE-UBLOCK-IMPORT.md](USER-GUIDE-UBLOCK-IMPORT.md).

---

## Privacy / ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼
ãƒ‡ãƒ¼ã‚¿ã¯ã™ã¹ã¦ãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚è©³ç´°ã¯ [PRIVACY.md](PRIVACY.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

All data is stored locally. See [PRIVACY.md](PRIVACY.md) for details.

## License / ãƒ©ã‚¤ã‚»ãƒ³ã‚¹
MIT License
